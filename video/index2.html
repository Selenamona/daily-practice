<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>播放器截图示例</title>
</head>

<body>
  <h3>阿宝哥：播放器截图示例</h3>
  <video id="video" controls="controls" width="460" height="270" crossorigin="anonymous">
    <!-- 请替换为实际视频地址 -->
    <source src="https://vdept.bdstatic.com/6a75494d387a476a6534444b4a623771/36484732316c424e/98e34c197b20d92aed51a4aa5a49725eac985b0e3a2a615dec77906b29a6659f3272f62996696a7b55df3d9b2f8eb95be68fa8bdee0ed716060da9bbd8e23095.mp4?auth_key=1594822239-0-0-b8e85057a3dfc75671bd8e7bb0e78d45" />
  </video>
  <button onclick="captureVideo()">截图</button>
  <script>
    let video = document.querySelector("#video");
    let canvas = document.createElement("canvas");
    let img = document.createElement("img");
    img.crossOrigin = "";
    let ctx = canvas.getContext("2d");

    function captureVideo() {
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
      img.src = canvas.toDataURL();
      document.body.append(img);
    }
  </script>
</body>

</html>
