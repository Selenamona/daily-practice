<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- <script src="https://unpkg.com/vue@2.6.14/dist/vue.js"></script> -->
  <script>
    // const vm = new Vue({
    //   data: {
    //     name: '我是若川',
    //   },
    //   methods: {
    //     sayName() {
    //       console.log(this.name);
    //     }
    //   },
    // });
    // console.log(vm.name);
    // console.log(vm.sayName());

    // function noop(a, b, c) {}
    // var sharedPropertyDefinition = {
    //   enumerable: true,
    //   configurable: true,
    //   get: noop,
    //   set: noop
    // };

    // function proxy(target, sourceKey, key) {
    //   sharedPropertyDefinition.get = function proxyGetter() {
    //     return this[sourceKey][key]
    //   };
    //   sharedPropertyDefinition.set = function proxySetter(val) {
    //     this[sourceKey][key] = val;
    //   };
    //   Object.defineProperty(target, key, sharedPropertyDefinition);
    // }

    // function initData(vm) {
    //   const data = vm._data = vm.$options.data;
    //   const keys = Object.keys(data);
    //   var i = keys.length;
    //   while (i--) {
    //     var key = keys[i];
    //     proxy(vm, '_data', key);
    //   }
    // }

    // function initMethods(vm, methods) {
    //   for (var key in methods) {
    //     vm[key] = typeof methods[key] !== 'function' ? noop : methods[key].bind(vm);
    //   }
    // }

    // function Person(options) {
    //   let vm = this;
    //   vm.$options = options;
    //   var opts = vm.$options;
    //   if (opts.data) {
    //     initData(vm);
    //   }
    //   if (opts.methods) {
    //     initMethods(vm, opts.methods)
    //   }
    // }

    function Person(options) { }


    const p = new Person({
      data: {
        name: '若川'
      },
      methods: {
        sayName() {
          console.log(this.name);
        }
      }
    });

    console.log(p.name);
    // 未实现前： undefined
    // '若川'
    console.log(p.sayName());
    // 未实现前：Uncaught TypeError: p.sayName is not a function
    // '若川' 
  </script>
</body>

</html>
